const productDetails = {
  product1: {
    name: 'Product 1',
    description: 'Quantity-100 ml PA ,Rating-PA+++ ,Skin Type All-Skin Types, SPF Rating-50 PA++, Formulation Lotion-Ideal For Women,Net Quantity-100 ml',
    price: 'Price: $20',
    paymentUrl: 'https://www.flipkart.com/product1',
    imageUrl: 'https://www.lakmeindia.com/cdn/shop/products/AMAZONFOP1000X1000PX_1000x.jpg?v=1680690185',
    flipkartUrl: 'https://www.flipkart.com/lakm-sunscreen-spf-50-pa-pa-9-5-sun-expert-super-matte/p/itm70adc23a8bd52?pid=SNRFEQKAGUVCEG4M&lid=LSTSNRFEQKAGUVCEG4MPAHZVI&marketplace=FLIPKART&q=lakme+sunscreen&store=g9b%2Fema%2F5la%2Fxrh&spotlightTagId=BestsellerId_g9b%2Fema%2F5la%2Fxrh&srno=s_1_4&otracker=AS_QueryStore_OrganicAutoSuggest_2_6_na_na_na&otracker1=AS_QueryStore_OrganicAutoSuggest_2_6_na_na_na&fm=search-autosuggest&iid=b36015e7-8bd5-469a-b42a-d3cfa5ba55c0.SNRFEQKAGUVCEG4M.SEARCH&ppt=sp&ppn=sp&ssid=y2ft3u8ymo0000001716464960341&qH=793b3769bdd87a23https://www.flipkart.com/product1',
    amazonUrl: 'https://www.amazon.in/Lakme-Expert-Ultra-Matte-Lotion/dp/B06X1872QT/ref=sr_1_15?crid=1ZAO8OKENPKDV&dib=eyJ2IjoiMSJ9.XcdDTW6JVD-thTV4u13YPk4IxX3gIjnfWFmk7f__Vti9kPwhtdGTL2Il5pzG7CO_4rtSSxHGpqkhIqz93_MyjYnykwRv9o9BO6o9Uiog40hqCMghmWwXiJG0rByKthA2OKX1gtvt-PoIrbh1ucLisYmRkS0CmF92eGq9FEPu8wLV3TPki50FXAP-YNfzRADoUAa8sh1WGJvd_AY-U8133DIghu-b9PV8U3CTOQg_y3bG4Jk0EjngxA-tDmYoeIfBMFpmpDEKUZD9mryXegIYH9TRlviBxqQ4H5A7n7h22fQ.B1uVWt8v6VvlHV3u7sLGW4nkdQUP7fVDIA1fkojs4JQ&dib_tag=se&keywords=sunscreen+lakme&qid=1716464672&s=beauty&sprefix=sunscreen+lakme%2Cbeauty%2C270&sr=1-15https://www.amazon.com/product1',
    myntraUrl: 'https://www.myntra.com/face-sunscreen/lakme/lakme-sun-expert-spf-50-pa-ultra-matte-sunscreen-50-ml/2137201/buy'
  },
  product2: {
    name: 'Product 2',
    description: 'Brand MINARA-Model Name Nude Eye Shadow Palette and Rose Gold ,Eyeshadow-(18+18 colors) Shade Multicolor ,Quantity-36 g, Color-Multicolor, Maximum Shelf Life-60 Months ,Waterproof-Yes Form-Compressed Powder ,Container Type-Palette Case ,Multi Shaded-Yes ,Skin Type-All Skin Types Net-Quantity 36 g',
    price: 'Price: $30',
    paymentUrl: 'https://www.amazon.com/product2',
    imageUrl: 'https://m.media-amazon.com/images/I/810zUZrp2AL._AC_UF1000,1000_QL80_.jpg',
    flipkartUrl: 'https://www.flipkart.com/bingeable-nude-eyeshadow-18-color-palette-shimmer-matte-shades-eye-makeup-g/p/itm7fd137732d27e?pid=ESDGJ7BGEVZ23SJ5&lid=LSTESDGJ7BGEVZ23SJ51HTMBF&marketplace=FLIPKART&q=minara+nude+eye+shadow+pallete&store=g9b%2Fffi%2Fttr%2Fi7s&srno=s_1_5&otracker=search&otracker1=search&fm=Search&iid=4f4658f1-90bb-47c4-85ae-3839e9fd49a1.ESDGJ7BGEVZ23SJ5.SEARCH&ppt=sp&ppn=sp&ssid=ta7u2fvnw00000001716465017466&qH=366ce8f5cbd25421https://www.flipkart.com/product2',
    amazonUrl: 'https://www.amazon.in/HUDACRUSH-BEAUTY-Eyeshadow-Palette-Shimmer/dp/B09SY7P98M/ref=sr_1_6?crid=3A2W1TDXJMD16&dib=eyJ2IjoiMSJ9.DNs49jinbzT2Fa0HJQqdc2Q0Pvhbwkf7sErVMHpUJooCwDA-UCOG3qzDe90w-HuQtxiVsiGXjbhb5JweBbLS2etNHY8jv4Uwq3mfmPR4WaaAUtR3R8S2RwzKTZUqNgxC6psoisG05Km3zZH6ouJfA7iaaUTk6y5wZMO3upteJ98PbfRr64uYjnyF9ouulTkBJMlxdZ3K8ItXLkPfiKR2jqf7PxuHCQZZ1l6Ns7oUfAxXTr_R-YoXt6kuD_ILLbQRpeFQg1w5CrrMuiGEgIXSBzn3J7ZqZR7MDB_3q1ocyL4.BtvQ8_Lymq0BcQUBifuL0Q8BpEOpRQWRw39pnPbVynk&dib_tag=se&keywords=nude+eyeshadow+palette+minara&qid=1716464437&sprefix=nude+eyeshadow+pallete+minara%2Caps%2C245&sr=8-6https://www.amazon.com/product2',
    myntraUrl: 'https://www.myntra.com/product2'
  },
  product3: {
    name: 'Product 3',
    description: 'Sales Package-Lipstick,Form-Cream, Professional Care-Yes,Skin Type-All Skin Types,Skin Tone-Light/Dusky,Finish-Matte Duration NA,Color-Red ,Composition-Phenyl Triemthicone; Polyethylene; Dimethicone,Net Quantity-3.6 g',
    price: 'Price: $40',
    paymentUrl: 'https://www.myntra.com/product3',
    imageUrl: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRdpwU9C4aKaMcTg36n5I7Mg5BORWb39pVtnwlprMxfZQ&s',
    flipkartUrl: 'https://www.flipkart.com/lakm-primer-matte-lipstick-lightweight-lasts-16hrs/p/itm8332d7aaa6ec2?pid=LSKGFVHRZ4YWMMZH&lid=LSTLSKGFVHRZ4YWMMZHARDDVU&marketplace=FLIPKART&q=lakme+lipstick&store=g9b%2Fffi%2Ftv5%2Funa&spotlightTagId=BestsellerId_g9b%2Fffi%2Ftv5%2Funa&srno=s_1_4&otracker=AS_QueryStore_OrganicAutoSuggest_1_9_na_na_na&otracker1=AS_QueryStore_OrganicAutoSuggest_1_9_na_na_na&fm=search-autosuggest&iid=72f416f5-c11c-411f-994a-d5bfd3545574.LSKGFVHRZ4YWMMZH.SEARCH&ppt=sp&ppn=sp&ssid=ops8bb8hao0000001716465058930&qH=80bdc17a099f487f',
    amazonUrl: 'https://www.amazon.in/Lakme-Absolute-matte-Lipstick-Maroon/dp/B083FG6XLY?ref_=ast_sto_dp&th=1https://www.amazon.com/product3',
    myntraUrl: 'https://www.myntra.com/14095344'
  },
  product4: {
    name: 'Product 4',
    description: 'Brand-LakmÃ©, Model Name-Powerplay Priming Powder Foundation ,Quantity-9 g ,Shade-Soft Pink Color NA ,Maximum Shelf Life-24 Months ,SPF Rating NA Composition NA Skin Type-All Skin Type ,Texture-Powder,Finish-Matte Skin Tone Wheatish Net Quantity 9 gFull description of Product 4 with features and price tag.',
    price: 'Price: $50',
    paymentUrl: 'https://www.flipkart.com/product4',
    imageUrl: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSf4BF-hvZsq9wJL2NssgqxJgVxb03HHIaImWhT7VHUFw&s',
    flipkartUrl: 'https://www.flipkart.com/lakm-powerplay-priming-powder-foundation-compact/p/itm29c96c5026fb8?pid=CMPEVYMUHG4AKXGD&marketplace=FLIPKARThttps://www.flipkart.com/product4',
    amazonUrl: 'https://www.amazon.in/Lakme-Flawless-Matte-Complexion-Compact/dp/B00GLPC218/ref=sr_1_8?crid=3DBGWVCYF6R7C&dib=eyJ2IjoiMSJ9.DI9cDRsREw_NsvR-6hTllWgL51-9mfLcKSN6bJCklu2pyejyTHIDpiugVVQ3tItdrlQ2soQGHTSuFyiflVZDBQUQzuNPEC0AHYBHgehiHb-ImYnjmj4b4KG5xXrq-iDJrGKzg1u5l99X5BrD2gRV-JMcPq9pzHrGXEvwnpXgGEk5KwcCwpwVr6Z9CnnOu-tV6w32nDdxGlK6N1xM32DhyhH0rdhgfx85JoTaPb4VHKmz8x1D2gMTcT-90I4RCneS1bQSBIli6XfyKmnBWmnC5WxOmfWZa-CoFOwMYlsVezE.hGCLNJ-SzI5U8qyvi6TdY3wdANm9IbpTWqZCtjIZQUI&dib_tag=se&keywords=compact%2Blakme&qid=1716466363&s=beauty&sprefix=%2Cbeauty%2C270&sr=1-8&th=1',
    myntraUrl: 'https://www.myntra.com/compact/lakme/lakme-9-to-5-flawless-matte-complexion-compact---melon/153952/buy'
  }
};

function generateQRCodes() {
  Object.keys(productDetails).forEach((productId, index) => {
    const product = productDetails[productId];
    const qrcodeDiv = document.getElementById(`qrcode${index + 1}`);
    QRCode.toCanvas(qrcodeDiv, product.paymentUrl, function (error) {
      if (error) console.error(error);
      console.log('QR code generated successfully!');
    });
  });
}

function showDetails(productId) {
  const product = productDetails[productId];
  const modalDetails = document.getElementById('modal-details');
  
  modalDetails.innerHTML = `
    <h2>${product.name}</h2>
    <img src="${product.imageUrl}" alt="${product.name}">
    <p>${product.description}</p>
    <p>${product.price}</p>
    <a href="${product.flipkartUrl}" target="_blank">View on Flipkart</a><br>
    <a href="${product.amazonUrl}" target="_blank">View on Amazon</a><br>
    <a href="${product.myntraUrl}" target="_blank">View on Myntra</a>
  `;

  const modalQrcode = document.getElementById('modal-qrcode');
  const modalQrcodeImg = document.getElementById('modal-qrcode-img');

  QRCode.toCanvas(modalQrcode, product.paymentUrl, function (error) {
    if (error) console.error(error);
    console.log('Payment QR code generated successfully!');
    
    // Convert the QR code canvas to an image and display it
    modalQrcodeImg.src = modalQrcode.toDataURL();
    modalQrcodeImg.style.display = 'block';
    modalQrcode.style.display = 'none';
  });

  const modal = document.getElementById('modal');
  modal.style.display = 'block';
}

function closeModal() {
  const modal = document.getElementById('modal');
  modal.style.display = 'none';
}

document.addEventListener('DOMContentLoaded', generateQRCodes);
